{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BwBA;;AAEIA;;AAEJA;;;;;;AAFIA;;AAAAA;;;;;;AAGJA;;AAEIA;;AAEJA;;;;;;AAFIA;;AAAAA;;;;;;AAaJA;;AACiCA;;;;AAE7BA;;AAAqBA;;AAAyCA;;AAClEA;;;;;;AAHiCA;;AAAAA;;AAERA;;AAAAA;;;;;;AAgFzCA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA0DA;;AAASA;;AACjGA;;AAAsBA;;AAA2FA;;;;AAA0FA;;AAC3MA;;AACJA;;AACJA;;AACJA;;;;;;AAL0CA;;AAAAA;;AACmFA;;AAAAA;;;;UC9HxHC;AAOX,kDACkCC,IADlC,EAEUC,OAFV,EAGUC,cAHV,EAIYC,SAJZ,EAIoE;AAAA;;AAHlC;AACxB;AACA;AACE;AAVZ,4BAAqB,EAArB;AAIS,yBAAkBC,2FAAlB;AACT,+BAAgB,KAAhB;AAMK;;;;iBAEL,oBAAQ;AAAA;;;;AACN,iBAAKC,QAAL,GAAgB,KAAKH,cAAL,CAAoBI,eAApB,EAAhB;AACA,iBAAKC,aAAL,GAAqB,WAAKP,IAAL,MAAS,IAAT,IAASQ,aAAT,GAAS,MAAT,GAASA,GAAED,aAAhC;AACA,iBAAKE,EAAL,GAAUC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAV;AACA,gBAAIC,MAAM,GAAG,YAAKZ,IAAL,MAAS,IAAT,IAASa,aAAT,GAAS,MAAT,GAASA,GAAEC,cAAF,CAAiB,gBAAjB,CAAT,IAA8C,WAAKd,IAAL,MAAS,IAAT,IAASe,aAAT,GAAS,MAAT,GAASA,GAAEC,cAAzD,GAA0E,EAAvF;AACA,gBAAIC,OAAO,GAAG,YAAKjB,IAAL,MAAS,IAAT,IAASkB,aAAT,GAAS,MAAT,GAASA,GAAEJ,cAAF,CAAiB,SAAjB,CAAT,IAAuC,WAAKd,IAAL,MAAS,IAAT,IAASmB,aAAT,GAAS,MAAT,GAASA,GAAEF,OAAlD,GAA4D,EAA1E;AACA,iBAAKhB,OAAL,CAAamB,YAAb,CAA0B,WAAKpB,IAAL,MAAS,IAAT,IAASqB,aAAT,GAAS,MAAT,GAASA,GAAEC,SAArC,EAAgDC,SAAhD,CAA0D,aAAG,EAAG;;;AAC9D,mBAAI,CAACvB,IAAL,GAAYwB,GAAG,CAACxB,IAAhB;AACA,mBAAI,CAACA,IAAL,GAASyB,gCACJ,KAAI,CAACzB,IADD,GACK;AACZgB,8BAAc,EAAEJ,MADJ;AAEZK,uBAAO,EAAEA,OAFG;AAGZS,mBAAG,EAAE,YAAI,CAAC1B,IAAL,MAAS,IAAT,IAASQ,aAAT,GAAS,MAAT,GAASA,GAAEmB,GAAX,IAAiB,KAAI,CAACC,MAAL,CAAY,WAAI,CAAC5B,IAAL,MAAS,IAAT,IAASa,aAAT,GAAS,MAAT,GAASA,GAAEc,GAAvB,CAAjB,GAA+C,IAHxC;AAIZE,kCAAkB,EAAG,YAAI,CAAC7B,IAAL,MAAS,IAAT,IAASe,aAAT,GAAS,MAAT,GAASA,GAAEe,iBAAX,MAAgC,WAAI,CAAC9B,IAAL,MAAS,IAAT,IAASkB,aAAT,GAAS,MAAT,GAASA,GAAEa,SAA3C,CAAD,GAAyD,KAAI,CAACC,4BAAL,EAAzD,GAA+F;AAJvG,eADL,CAAT;;AAOA,kBAAI,WAAI,CAAChC,IAAL,MAAS,IAAT,IAASmB,aAAT,GAAS,MAAT,GAASA,GAAEc,QAAf,EAAyB;AACvB,qBAAI,CAAChC,OAAL,CAAaiC,WAAb,CAAyB,KAAI,CAAClC,IAAL,CAAUiC,QAAnC,EAA6CV,SAA7C,CAAuD,cAAI,EAAG;AAC5D,sBAAIY,IAAI,CAACnC,IAAL,CAAUoC,MAAd,EAAsB;AACpB,yBAAI,CAACC,UAAL,GAAkBF,IAAI,IAAIA,IAAI,CAAC,MAAD,CAAJ,CAAa,CAAb,EAAgB,WAAhB,IAA+B,GAA/B,GAAqCA,IAAI,CAAC,MAAD,CAAJ,CAAa,CAAb,EAAgB,UAAhB,CAA/D;AACD;AACF,iBAJD;AAKD;;AACD,kBAAI,KAAI,CAACnC,IAAL,CAAUsC,UAAV,CAAqBC,WAArB,OAAuC,KAAI,CAACrC,cAAL,CAAoBsC,iBAApB,GAAwCD,WAAxC,EAAvC,KAAgG,WAAI,CAACvC,IAAL,MAAS,IAAT,IAASqB,aAAT,GAAS,MAAT,GAASA,GAAEoB,MAA3G,CAAJ,EAAuH;AACrH,qBAAI,CAACzC,IAAL,CAAUsC,UAAV,GAAuB,KAAI,CAACpC,cAAL,CAAoBsC,iBAApB,EAAvB;;AACA,oBAAI,KAAI,CAACtC,cAAL,CAAoBsC,iBAApB,GAAwCD,WAAxC,OAA0D,IAA9D,EAAoE;AAClE,uBAAI,CAACvC,IAAL,CAAUyC,MAAV,GAAmB,KAAI,CAACvC,cAAL,CAAoBwC,eAApB,CAAoC,KAAI,CAAC1C,IAAL,CAAUyC,MAA9C,CAAnB;AACD,iBAFD,MAEO;AACL,uBAAI,CAACzC,IAAL,CAAUyC,MAAV,GAAmB,KAAI,CAACvC,cAAL,CAAoByC,eAApB,CAAoC,KAAI,CAAC3C,IAAL,CAAUyC,MAA9C,CAAnB;AACD;AACF;;AACD,kBAAI,KAAI,CAACzC,IAAL,CAAU4C,UAAV,CAAqBL,WAArB,OAAuC,KAAI,CAACrC,cAAL,CAAoB2C,iBAApB,GAAwCN,WAAxC,EAAvC,KAAgG,WAAI,CAACvC,IAAL,MAAS,IAAT,IAAS8C,aAAT,GAAS,MAAT,GAASA,GAAEC,MAA3G,CAAJ,EAAuH;AACrH,qBAAI,CAAC/C,IAAL,CAAU4C,UAAV,GAAuB,KAAI,CAAC1C,cAAL,CAAoB2C,iBAApB,EAAvB;;AACA,oBAAI,KAAI,CAAC3C,cAAL,CAAoB2C,iBAApB,GAAwCN,WAAxC,OAA0D,IAA9D,EAAoE;AAClE,uBAAI,CAACvC,IAAL,CAAU+C,MAAV,GAAmB,KAAI,CAAC7C,cAAL,CAAoB8C,gBAApB,CAAqC,KAAI,CAAChD,IAAL,CAAU+C,MAA/C,CAAnB;AACD,iBAFD,MAEO;AACL,uBAAI,CAAC/C,IAAL,CAAU+C,MAAV,GAAmB,KAAI,CAAC7C,cAAL,CAAoB+C,gBAApB,CAAqC,KAAI,CAACjD,IAAL,CAAU+C,MAA/C,CAAnB;AACD;AACF;AACF,aAhCD;AAiCD;;;iBAED,wCAA4B;;;AAC1B,mBAAO,IAAIG,IAAJ,CAAS,IAAIA,IAAJ,CAAU,YAAKlD,IAAL,MAAS,IAAT,IAASQ,aAAT,GAAS,MAAT,GAASA,GAAEuB,SAAX,IAAuB,IAAxB,GAAiC,YAAK/B,IAAL,MAAS,IAAT,IAASa,aAAT,GAAS,MAAT,GAASA,GAAEiB,iBAAX,IAA6B,EAA7B,GAAgC,IAA1E,EAAiFqB,cAAjF,CAAgG,OAAhG,EAAyG;AAAE9C,sBAAQ,EAAE,KAAKI;AAAjB,aAAzG,CAAT,CAAP;AACD;;;iBAGD,gBAAOkB,GAAP,EAAU;AACR,gBAAIA,GAAJ,EAAS;AACP,kBAAIyB,CAAC,GAAGC,mCAAM,CAAC1B,GAAD,CAAd;AACA,kBAAI2B,CAAC,GAAGD,mCAAM,CAAC,IAAIH,IAAJ,EAAD,CAAd;AACA,kBAAIK,QAAQ,GAAGD,CAAC,CAACE,IAAF,CAAOJ,CAAP,EAAU,MAAV,CAAf;AACA,qBAAOK,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,GAAtB,CAAP;AACD,aALD,MAKO;AACL,qBAAO,CAAP;AACD;AAEF;;;iBAID,qBAAS;AACP,iBAAKpD,SAAL,CAAewD,KAAf;AACD;;;;;;;yBA5EU5D,kCAA+BD,gEAQhC8D,qEARgC,GAQjB9D;AAAA;;;cARdC;AAA+B8D;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADZ5CnE;;AACIA;;AACIA;;AACIA;;AAAqBA;;AAASA;;AAC9BA;;AAAwBA;;AAAQA;;;;AAA6DA;;AAASA;;AAC1GA;;AACAA;;AACIA;;AAAQA;;AAAoCA;;AAC5CA;;AAAyBA;;AACCA;;AAC9BA;;AACJA;;AACAA;;AACIA;;AAAUA;;AAAKA;;AACnBA;;AACJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAAgDA;;AAASA;;AACvFA;;AAA2CA;;AAEnCA;;AAAsCA;;AAAOA;;AACzDA;;AACJA;;AACAA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA0CA;;AAASA;;AACjFA;;AACIA;;AAKAA;;AAKJA;;AACJA;;AACJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA0CA;;AAASA;;AACjFA;;AACIA;;AAKJA;;AACJA;;AACJA;;AACAA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA+CA;;AAASA;;AACtFA;;AAA2CA;;AAC+CA;;AAC1EA;;AAAOA;;AAC3BA;;AACJA;;AACJA;;AAGAA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA6CA;;AAASA;;AACpFA;;AAA2CA;;AAC+CA;;AAEvCA;;AAAOA;;AAC9DA;;AACJA;;AACAA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA6CA;;AAASA;;AACpFA;;AAA2CA;;AAC+CA;;AAC7BA;;AAC7DA;;AACJA;;AACJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAAkDA;;AAASA;;AACzFA;;AAA2CA;;AAC8DA;;;;AAChBA;;AAAOA;;AACpGA;;AACJA;;AACAA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAA0DA;;AACxFA;;AACAA;;AACIA;;AACIA;;;;AACJA;;AACJA;;AACJA;;AACJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAAgDA;;AAASA;;AACvFA;;AAA2CA;;AAC+CA;;AAC1EA;;AAAOA;;AAC3BA;;AACJA;;AACAA;;AACIA;;AACIA;;AAAsBA;;AAAQA;;;;AAAmDA;;AAASA;;AAC1FA;;AACIA;;AACIA;;AAEJA;;AACJA;;AACJA;;AACJA;;AACJA;;AACAA;;AAWJA;;AAGJA;;;;AAhJ4CA;;AAAAA;;AAGxBA;;AAAAA;;AACiBA;;AAAAA;;AAaaA;;AAAAA;;AAGtBA;;AAAAA;;AAKsBA;;AAAAA;;AAGrBA;;AAAAA;;AAKAA;;AAAAA;;AAYqBA;;AAAAA;;AAGrBA;;AAAAA;;AASqBA;;AAAAA;;AAE4DA;;AAAAA;;AAU5DA;;AAAAA;;AAE4DA;;AAAAA;;AAO5DA;;AAAAA;;AAE4DA;;AAAAA;;AAU5DA;;AAAAA;;AAE2EA;;AAAAA;;AAM3EA;;AAAAA;;AAItBA;;AAAAA;;AAUsBA;;AAAAA;;AAE4DA;;AAAAA;;AAM5DA;;AAAAA;;AAGtBA;;AAAAA;;AAOFA;;AAAAA;;;;;;;;;","names":["_angular_core__WEBPACK_IMPORTED_MODULE_4__","PatientDetailsViewMoreComponent","data","service","userPreference","dialogRef","_environments_environment__WEBPACK_IMPORTED_MODULE_1__","timeZone","getUserTimeZone","biosensorInfo","_a","tz","sessionStorage","getItem","m_time","_b","hasOwnProperty","_c","monitoringTime","patchId","_d","_e","getPatientBy","_f","patientId","subscribe","res","Object","age","dob","getAge","estimatedDischarge","procedureDuration","startedOn","getEstimatedDateForDischarge","doctorId","getDoctorBy","resp","length","doctorName","heightUnit","toUpperCase","getUserHeightUnit","height","convertInchToCm","convertCmToInch","weightUnit","getUserWeightUnit","_g","weight","convertPoundToKg","convertKgToPound","Date","toLocaleString","a","moment__WEBPACK_IMPORTED_MODULE_0__","b","diffDays","diff","Math","floor","close","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__","selectors","decls","vars","consts","template"],"sources":["webpack:///src/app/active-patients/patient-details-view-more/patient-details-view-more.component.html","webpack:///src/app/active-patients/patient-details-view-more/patient-details-view-more.component.ts"],"sourcesContent":["<mat-card class=\"dialog-header\">\r\n    <div class=\"assign-header\">\r\n        <div class=\"list-item ms-0\">\r\n            <h1 mat-dialog-title>More Info</h1>\r\n            <div class=\"patient-id\"><strong>{{'patient-more-detail-c.pid'| translate}} {{data.patientId}}</strong></div>\r\n        </div>\r\n        <div class=\"list-item patient-group\">\r\n            <strong>{{data.firstName}} {{data.lastName}}</strong>\r\n            <span class=\"time-group\">{{data?.pGroup?.name}}{{(data?.pGroup && data?.cGroup ) ? \",\" :\"\"}}\r\n                {{data?.cGroup?.name}}</span>\r\n        </div>\r\n    </div>\r\n    <button mat-button mat-dialog-close class=\"me-3\">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n</mat-card>\r\n<mat-dialog-content class=\"mat-dialog-popup\">\r\n    <div class=\"moreinfo-group-dialog\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.full_name'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">\r\n                            {{data.first_name}} {{data.last_name}}</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.sex'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\">\r\n                        <span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\"\r\n                            *ngIf=\"data?.gender\">\r\n                            {{(data.gender === 'M' || data.gender === 'MALE') ? 'Male'\r\n                            : (data.gender === 'F' || data.gender === 'FEMALE') ? 'Female' : 'Other' }}\r\n                        </span>\r\n                        <span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\"\r\n                            *ngIf=\"data?.sex\">\r\n                            {{(data.sex === 'M' || data.sex === 'MALE') ? 'Male'\r\n                            : (data.sex === 'F' || data.sex === 'FEMALE') ? 'Female' : 'Other' }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.dob'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\">\r\n                        <span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end text-uppercase\"\r\n                            *ngIf=\"data.dob || data.age\">{{ (data.dob) ? (data.dob | date : \"dd/MMM/yyyy \") + \" | \" :\r\n                            \"\" }}\r\n                            <strong class=\"mx-1\">{{(data.dob) ? data.age + \" yrs\" : \"-\" }}</strong>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.phone_no'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">{{data.phoneNo\r\n                            || \"-\"}}</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.height'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">{{data?.height\r\n                            || '-'}}\r\n                            {{(data?.height !== 0)?data.heightUnit:\"\"}}</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.weight'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">{{data?.weight\r\n                            || '-'}} {{(data?.weight !== 0 )?data.weightUnit:''}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.admitted_on'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end text-uppercase\">{{(data.startedOn\r\n                            > 0) ? (data.startedOn*1000 | date : \"dd/MMM/yyyy \" + timeFmt : timeZone) : \"-\"}}</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.estimated_discharge'| translate}}</strong>\r\n                    </div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\">\r\n                        <span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end text-uppercase\">\r\n                            {{data?.estimatedDischarge ? (data.estimatedDischarge | date : \"dd/MMM/yyyy\" : timeZone ) : \"-\"}}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.physician'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\"><span\r\n                            class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">{{doctorName\r\n                            || \"-\"}}</span></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6 px-1 mb-2\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.biosensor_id'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6 ps-md-0 pt-2 pt-md-0\">\r\n                        <span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-sm-end\">\r\n                            {{(data.activePatch !== \"\" && data.activePatch !== undefined) ? data.activePatch :\r\n                            data.patchId || \"-\"}}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" *ngIf=\"this.biosensorInfo\">\r\n            <div class=\"col-md-12 px-1\">\r\n                <div class=\"row align-items-center py-3 mx-0 \">\r\n                    <div class=\"col-sm-6\"><strong>{{'patient-more-detail-c.biosensor_startedon'| translate}}</strong></div>\r\n                    <div class=\"col-sm-6\"><span class=\"fw-normal d-flex justify-content-start justify-content-sm-end text-uppercase\">{{(data?.activePatchStartTime*1000 | date : \"dd/MMM/yyyy \" + timeFmt : timeZone) || '-' }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n</mat-dialog-content>\r\n","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { UserPreferenceService } from \"@services/user-preference.service\";\nimport * as moment from \"moment\";\nimport { ActivePatientsService } from \"../services/active-patients.service\";\nimport {environment} from \"../../../environments/environment\";\n\n@Component({\n  selector: \"app-patient-details-view-more\",\n  templateUrl: \"./patient-details-view-more.component.html\",\n  styleUrls: [\"./patient-details-view-more.component.scss\"],\n})\nexport class PatientDetailsViewMoreComponent implements OnInit {\n  doctorName: string = \"\";\n  timeZone: string;\n  tz: string;\n  age: number;\n  readonly timeFmt: string = environment.customization.timeFormat;\n  biosensorInfo = false;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private service: ActivePatientsService,\n    private userPreference: UserPreferenceService,\n    protected dialogRef: MatDialogRef<PatientDetailsViewMoreComponent>\n  ) { }\n\n  ngOnInit(): void {\n    this.timeZone = this.userPreference.getUserTimeZone();\n    this.biosensorInfo = this.data?.biosensorInfo;\n    this.tz = sessionStorage.getItem('timezone');\n    let m_time = this.data?.hasOwnProperty('monitoringTime') ? this.data?.monitoringTime : \"\";\n    let patchId = this.data?.hasOwnProperty('patchId') ? this.data?.patchId : \"\";\n    this.service.getPatientBy(this.data?.patientId).subscribe(res => {\n      this.data = res.data;\n      this.data = {\n        ...this.data,\n        monitoringTime: m_time,\n        patchId: patchId,\n        age: this.data?.dob ? this.getAge(this.data?.dob) : null,\n        estimatedDischarge: (this.data?.procedureDuration && this.data?.startedOn) ? this.getEstimatedDateForDischarge() : null\n      }\n      if (this.data?.doctorId) {\n        this.service.getDoctorBy(this.data.doctorId).subscribe(resp => {\n          if (resp.data.length) {\n            this.doctorName = resp && resp['data'][0]['firstName'] + ' ' + resp['data'][0]['lastName'];\n          }\n        });\n      }\n      if (this.data.heightUnit.toUpperCase() !== this.userPreference.getUserHeightUnit().toUpperCase() && this.data?.height) {\n        this.data.heightUnit = this.userPreference.getUserHeightUnit();\n        if (this.userPreference.getUserHeightUnit().toUpperCase() === \"CM\") {\n          this.data.height = this.userPreference.convertInchToCm(this.data.height);\n        } else {\n          this.data.height = this.userPreference.convertCmToInch(this.data.height);\n        }\n      }\n      if (this.data.weightUnit.toUpperCase() !== this.userPreference.getUserWeightUnit().toUpperCase() && this.data?.weight) {\n        this.data.weightUnit = this.userPreference.getUserWeightUnit();\n        if (this.userPreference.getUserWeightUnit().toUpperCase() === \"KG\") {\n          this.data.weight = this.userPreference.convertPoundToKg(this.data.weight);\n        } else {\n          this.data.weight = this.userPreference.convertKgToPound(this.data.weight);\n        }\n      }\n    });\n  }\n\n  getEstimatedDateForDischarge() {\n    return new Date(new Date((this.data?.startedOn * 1000) + (this.data?.procedureDuration*60*1000)).toLocaleString(\"en-US\", { timeZone: this.tz }));\n  }\n\n\n  getAge(dob) {\n    if (dob) {\n      var a = moment(dob);\n      var b = moment(new Date());\n      var diffDays = b.diff(a, \"days\");\n      return Math.floor(diffDays / 365);\n    } else {\n      return 0;\n    }\n\n  }\n\n\n\n  closeGrid() {\n    this.dialogRef.close();\n  }\n}\n"]}