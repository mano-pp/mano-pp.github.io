{"version":3,"file":"src_app_summary_summary_module_ts-es2017.js","mappings":"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","sources":["./src/app/summary/summary.module.ts","./src/app/summary/summary/summary.component.ts","./src/app/summary/summary/summary.component.html","./src/app/summary/summay-routing.module.ts"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { SummaryComponent } from \"./summary/summary.component\";\nimport { SummayRoutingModule } from \"./summay-routing.module\";\nimport { SettingsModule } from \"../settings/settings.module\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport {MatDividerModule} from '@angular/material/divider';\nimport { KeycloakBearerInterceptor } from \"keycloak-angular\";\n\n@NgModule({\n  declarations: [SummaryComponent],\n  imports: [CommonModule, SummayRoutingModule, SettingsModule, SharedModule, MatDividerModule],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: KeycloakBearerInterceptor,\n      multi: true,\n    },\n  ],\n})\nexport class SummaryModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { BackendApiService } from \"../../services/backendapi.service\";\nimport { CFSummary } from \"../../interfaces/query-params.interface\";\nimport { AuthenticationService } from \"@services/authentication.service\";\nimport { environment } from \"src/environments/environment\";\n\n@Component({\n  selector: \"app-summary\",\n  templateUrl: \"./summary.component.html\",\n  styleUrls: [\"./summary.component.scss\"],\n})\nexport class SummaryComponent implements OnInit {\n  dashboardSummary: any = {\n    activePatients: 0,\n    parameterAlerts: 0,\n    arrhythmiaAlerts: 0,\n    techAlerts: 0,\n    dischargedPatients: 0,\n    unassignedPatches : 0\n  };\n  roles;\n  activePatients = true;\n  parameterAlertsFrom;\n  arrhythmiaAlertsFrom;\n\n  constructor(\n    private backendApiService: BackendApiService,\n    private autheticationService: AuthenticationService\n  ) {}\n  loggedUser: any;\n  ngOnInit() {    \n    this.roles = this.autheticationService.getRoles();\n    this.loggedUser = this.autheticationService.getLoggedUser();\n    this.parameterAlertsFrom = window.sessionStorage.getItem(\"parameter-duration\");\n    if(this.parameterAlertsFrom === undefined) {\n      this.parameterAlertsFrom = 360;\n    }\n    this.arrhythmiaAlertsFrom = window.sessionStorage.getItem(\"arrhythmia-duration\");\n    if(this.arrhythmiaAlertsFrom === undefined) {\n      this.arrhythmiaAlertsFrom = 360;\n    }\n    this.getSummary();\n    this.getAlertsSummary({\n      parameterAlertsFrom: this.parameterAlertsFrom,\n      arrhythmiaAlertsFrom: this.arrhythmiaAlertsFrom\n    });\n    if (this.roles.indexOf(\"CFA\") > -1) {\n      this.activePatients = false;      \n    }\n  }\n\n  isCFA(){\n    return this.roles.indexOf(\"CFA\") > -1 || this.roles.indexOf(\"CFAC\") > -1;\n  }\n  isSCGCPHY() {\n    return this.roles.indexOf(\"SC\") > -1 || this.roles.indexOf(\"GC\") > -1 || this.roles.indexOf(\"PHY\") > -1;\n  }\n  isSC() {\n    return this.roles.indexOf(\"SC\") > -1;\n  }\n\n  loading = false;\n  alertLoading = false;\n  // Fetch Clinical facility summary page data\n  getSummary() {\n    let url = \"summary/\";\n    this.loading = true;\n    this.backendApiService\n      .callGetApi(environment.dataApiUrl + url)\n      .subscribe((response) => {\n        this.loading = false;\n        if (response.status === \"OK\") {\n          let summary = response.data;\n          this.dashboardSummary.activePatients = summary.activePatients;\n          this.dashboardSummary.unassignedPatches = summary.unassignedPatches;\n          this.dashboardSummary.dischargedPatients = summary.dischargedPatients;\n        }\n      }, () => {\n        this.loading = false;\n      });\n  }\n  getAlertsSummary(params: CFSummary) {\n    let url = \"summary/alerts\";\n    this.alertLoading = true;\n    this.backendApiService\n        .callGetApi(environment.dataApiUrl + url, params)\n        .subscribe((response) => {\n          this.alertLoading = false;\n          if (response.status === \"OK\") {\n            let alerts = response.data;\n            this.dashboardSummary.parameterAlerts = alerts.parameterAlerts;\n            this.dashboardSummary.arrhythmiaAlerts = alerts.arrhythmiaAlerts;\n            this.dashboardSummary.techAlerts = alerts.techAlerts;\n          }\n        }, () => {\n          this.loading = false;\n        });\n  }\n}\n","<div class=\"grid-fluid-container\">\r\n    <div class=\"container grid-aligning-summary pt-5 pb-5 mx-auto col-md-12 col-lg-10 col-xl-8 col-xxl-7\">\r\n        <div class=\"row justify-content-center align-items-center card-items\">\r\n            <app-setting-card [loading]=\"loading\" [view]=\"isSCGCPHY()\" class=\"child col-md-4 col-sm-12\"\r\n                [routerUrl]=\"'/posted-final'\" title=\"{{'home_alerts.label_posted_final' | translate}}\"\r\n                image=\"posted_final.png\" [count]=\"dashboardSummary.unassignedPatches\"\r\n                subTitle=\"home_cards.card_sub_title_reports\">\r\n            </app-setting-card>\r\n            <app-setting-card [loading]=\"loading\" [view]=\"isSCGCPHY()\" class=\"child col-md-4 col-sm-12\"\r\n                [routerUrl]=\"'/pending-interpretation/pending-interpretation'\" title=\"{{'home_alerts.label_pi' | translate}}\"\r\n                image=\"parameter-alerts.png\" [count]=\"dashboardSummary.activePatients\"\r\n                subTitle=\"home_cards.card_sub_title_reports\">\r\n            </app-setting-card>\r\n\r\n            <!-- Card containing Register button  -->\r\n            <app-setting-card [loading]=\"loading\" [view]=\"isSC()\" class=\"col-md-4 col-sm-12\"\r\n                title=\"{{'home_alerts.label_active_patients'|translate}}\" [routerUrl]=\"'/patients/active-patients'\"\r\n                image=\"current_patients.png\" [count]=\"dashboardSummary.activePatients\"\r\n                subTitle=\"home_cards.card_sub_title_patients\"\r\n                register=\"true\">\r\n            </app-setting-card>            \r\n\r\n        </div>\r\n        <div class=\"row d-none d-md-block\">\r\n            <div class=\"col-sm-10 my-5 mx-auto\">\r\n                <mat-divider></mat-divider>\r\n            </div>\r\n        </div>\r\n        <div class=\"row justify-content-center align-items-center card-items\" *ngIf=\"!isSCGCPHY()\">\r\n            <app-setting-card [view]=\"isCFA()\" class=\"col-md-4 col-sm-12\"></app-setting-card>\r\n            <app-setting-card [view]=\"isCFA()\" class=\"col-md-4 col-sm-12\"></app-setting-card>\r\n            <app-setting-card [view]=\"isCFA()\" class=\"col-md-4 col-sm-12\"></app-setting-card>\r\n        </div>\r\n        <div class=\"row justify-content-center align-items-center card-items\" *ngIf=\"isSCGCPHY()\">\r\n            <!-- <app-setting-card [loading]=\"alertLoading\" class=\"child col-md-4 col-sm-12\" [routerUrl]=\"'parameter-alerts'\"\r\n                title=\"{{'home_alerts.label_clinical_alert'|translate}}\" image=\"parameter-alerts.png\"\r\n                [count]=\"dashboardSummary.parameterAlerts\" timerIcon=\"true\" type=\"parameter\" (fetchSummary)=\"getAlertsSummary($event)\"\r\n                subTitle=\"home_cards.card_sub_title_alerts\"></app-setting-card> -->\r\n            <!-- <app-setting-card [loading]=\"alertLoading\" class=\"child col-md-4 col-sm-12\" [routerUrl]=\"'arrhythmia-alerts'\"\r\n                              title=\"{{'home_alerts.label_arrhythmia_alerts'| translate}}\" image=\"arrhythmia-alerts.png\"\r\n                              [count]=\"dashboardSummary.arrhythmiaAlerts\" type=\"arrhythmia\" timerIcon=\"true\" (fetchSummary)=\"getAlertsSummary($event)\"\r\n                              subTitle=\"home_cards.card_sub_title_alerts\">\r\n            </app-setting-card>ss -->\r\n            <app-setting-card [loading]=\"alertLoading\" class=\"child col-md-4 col-sm-12\"\r\n                [routerUrl]=\"'/interpretation-history'\" title=\"{{'home_alerts.label_ih'| translate}}\"\r\n                image=\"inter_history.png\" [count]=\"dashboardSummary.techAlerts\"\r\n                (fetchSummary)=\"getAlertsSummary($event)\" subTitle=\"home_cards.card_sub_title_reports\">\r\n            </app-setting-card>\r\n\r\n            <app-setting-card [loading]=\"alertLoading\" class=\"child col-md-4 col-sm-12\"\r\n                [routerUrl]=\"'/archived'\" title=\"{{'home_alerts.label_archive'| translate}}\" image=\"archive.png\"\r\n                [count]=\"dashboardSummary.techAlerts\" (fetchSummary)=\"getAlertsSummary($event)\"\r\n                subTitle=\"home_cards.card_sub_title_reports\">\r\n            </app-setting-card>\r\n\r\n            <app-setting-card [loading]=\"alertLoading\" class=\"child col-md-4 col-sm-12\" [routerUrl]=\"'technical-alerts'\"\r\n                title=\"{{'home_alerts.label_biosensor'| translate}}\" image=\"biosensor.png\"\r\n                [count]=\"dashboardSummary.techAlerts\" (fetchSummary)=\"getAlertsSummary($event)\"\r\n                subTitle=\"home_cards.card_sub_title_biosensors\">\r\n            </app-setting-card>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { MatToolbarModule } from \"@angular/material/toolbar\";\r\nimport { SummaryComponent } from \"./summary/summary.component\";\r\nimport { AuthGuard } from \"../guards/auth.guard\";\r\nimport { UserRoles } from \"../enum/roles.enum\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    //canActivate: [AuthGuard],\r\n    component: SummaryComponent,\r\n    data: {\r\n      roles: [\r\n        UserRoles.CLINICAL_FACILITY_ADMIN,\r\n        UserRoles.CLINICAL_FACILITY_ADMIN_CLONE,\r\n        UserRoles.GENERAL_CLINICIAN,\r\n        UserRoles.SUPERVISORY_CLINICIAN,\r\n        UserRoles.PHYSICIAN,\r\n      ],\r\n    }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SummayRoutingModule {}\r\n"],"names":[],"sourceRoot":"webpack:///"}